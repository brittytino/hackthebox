@tailwind base;
@tailwind components;
@tailwind utilities;

@layer base {
  :root {
    /* Summertime Saga Inspired Palette */
    --vn-bg-dark: #0f172a;
    --vn-panel-bg: rgba(15, 23, 42, 0.95);
    --vn-panel-border: #3b82f6;
    --vn-primary: #3b82f6; /* Bright Blue */
    --vn-secondary: #ec4899; /* Pink/Magenta */
    --vn-accent: #f59e0b; /* Amber/Gold for stats */
    --vn-text: #f8fafc;
    --vn-text-muted: #94a3b8;
    
    --vn-dialogue-bg: rgba(0, 0, 0, 0.9);
    --vn-name-bg: #1d4ed8; /* Blue-700 */
  }

  body {
    @apply bg-black text-white antialiased overflow-hidden h-screen w-screen m-0 p-0;
    font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
  }

  /* Fallback for any vn-root usage */
  .vn-root {
    @apply fixed inset-0 w-full h-full overflow-hidden bg-black;
  }
}

@layer components {
  /* Visual Novel Scene Container */
  .vn-scene {
    @apply fixed inset-0 w-full h-full overflow-hidden;
  }

  /* Full-Screen Background Image */
  .vn-background {
    @apply absolute inset-0 w-full h-full bg-cover bg-center bg-no-repeat;
    z-index: 0;
  }

  /* Character Sprite Positioning - Visual Novel Style */
  .vn-character {
    @apply absolute bottom-0 transition-all duration-700 ease-in-out pointer-events-none;
    height: 75vh;
    width: 35vw;
    max-width: 500px;
    min-width: 300px;
    z-index: 10;
  }
  
  .vn-character.left { 
    @apply left-[2%]; 
  }
  
  .vn-character.center { 
    @apply left-1/2 -translate-x-1/2; 
  }
  
  .vn-character.right { 
    @apply right-[2%]; 
  }

  /* Dialogue Box - Bottom Overlay (Visual Novel Style) */
  .vn-dialogue-box {
    @apply absolute bottom-[3vh] left-1/2 -translate-x-1/2 w-[92%] md:w-[85%] lg:w-[75%] xl:w-[70%] p-8 md:p-10 rounded-2xl shadow-2xl;
    background: linear-gradient(135deg, rgba(15, 23, 42, 0.97) 0%, rgba(30, 41, 59, 0.95) 100%);
    backdrop-filter: blur(20px);
    border: 3px solid rgba(255, 255, 255, 0.15);
    box-shadow: 0 20px 60px rgba(0,0,0,0.9), inset 0 1px 0 rgba(255,255,255,0.1);
    z-index: 50;
    max-height: 65vh;
  }
  
  /* Dialogue Content Area */
  .vn-dialogue-content {
    @apply relative;
  }

  /* Name Tag - Visual Novel Style */
  .vn-name-tag {
    @apply absolute -top-6 left-8 px-8 py-3 text-lg font-bold tracking-widest uppercase shadow-xl;
    background: linear-gradient(135deg, #1e3a8a 0%, #3b82f6 100%);
    color: #fff;
    border-radius: 12px 12px 0 0;
    border: 2px solid rgba(59, 130, 246, 0.5);
    border-bottom: none;
    box-shadow: 0 -4px 20px rgba(59, 130, 246, 0.4);
  }
  
  .vn-name-tag span {
    @apply drop-shadow-lg;
  }

  /* Dialogue Text */
  .vn-text {
    @apply text-lg md:text-2xl leading-relaxed text-slate-100 font-medium mt-4 font-sans tracking-wide;
    text-shadow: 1px 1px 0px rgba(0,0,0,1);
  }

  /* Glass Panels for Menus */
  .glass-panel {
    @apply bg-slate-900/90 backdrop-blur-xl border border-blue-500/30 rounded-2xl shadow-2xl;
  }

  /* Choice Buttons - Stacked in center */
  .vn-choice-container {
    @apply absolute top-1/2 left-1/2 -translate-x-1/2 -translate-y-1/2 flex flex-col items-center gap-4 w-full max-w-xl z-[100];
  }

  .vn-choice-btn {
    @apply w-full px-8 py-4 text-center text-xl font-bold text-white transition-all transform hover:scale-105 active:scale-95 cursor-pointer rounded-lg;
    background: linear-gradient(90deg, rgba(30, 58, 138, 0.9) 0%, rgba(59, 130, 246, 0.8) 100%);
    border: 2px solid #60a5fa;
    box-shadow: 0 4px 15px rgba(0, 0, 0, 0.5);
  }
  .vn-choice-btn:hover {
    background: linear-gradient(90deg, #2563eb 0%, #3b82f6 100%);
    box-shadow: 0 0 25px rgba(59, 130, 246, 0.8);
  }

  /* HUD Elements (Phone, Map, Time) */
  .vn-hud-icon {
    @apply w-14 h-14 rounded-full bg-slate-800/90 border-2 border-blue-500/50 flex items-center justify-center text-blue-400 hover:text-white hover:bg-blue-600 hover:border-blue-400 transition-all cursor-pointer shadow-lg hover:shadow-blue-500/50 hover:scale-110;
  }
}
